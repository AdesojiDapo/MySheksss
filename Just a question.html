<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>For Sheksss ðŸ’–</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <meta name="description" content="A little page from my heart for Sheksss."/>
  <style>
    :root{ --card:#171722; --accent:#ff4d6d; --text:#f6f6f9; --muted:#b8b8c7; }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      overflow-x:hidden;
    }
    .background{
      position:fixed;
      inset:0;
      background:url('https://images.unsplash.com/photo-1522336572468-97b06e8ef143?q=80&w=1600&auto=format&fit=crop') center/cover no-repeat;
      transform:scale(1);
      animation:slowZoom 40s ease-in-out infinite alternate;
      z-index:0;
    }
    @keyframes slowZoom{
      0%{transform:scale(1) rotate(0deg)}
      50%{transform:scale(1.1) rotate(0.2deg)}
      100%{transform:scale(1.15) rotate(-0.2deg)}
    }
    .overlay{background:rgba(0,0,0,0.55);position:fixed;inset:0;z-index:1}
    .container{max-width:880px;margin:0 auto;padding:24px;position:relative;z-index:2}
    .card{background:rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.08);border-radius:24px;padding:28px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
    h1{font-family:"Playfair Display",serif;font-weight:700;letter-spacing:.3px;font-size:42px;margin:0 0 10px}
    h2{font-family:"Playfair Display",serif;font-weight:600;font-size:28px;margin:0 0 12px}
    p{line-height:1.7;color:var(--muted);font-size:16px;margin:0 0 14px}
    .pill{display:inline-flex;align-items:center;gap:8px;background:rgba(255,77,109,.13);border:1px solid rgba(255,77,109,.35);color:#ffd1db;padding:6px 12px;border-radius:999px;font-size:13px}
    .cta{display:flex;gap:12px;flex-wrap:wrap;margin-top:14px}
    button{appearance:none;border:0;cursor:pointer;border-radius:14px;padding:14px 18px;font-weight:600}
    .yes{background:var(--accent);color:white;box-shadow:0 10px 20px rgba(255,77,109,.35)}
    .maybe{background:rgba(255,255,255,.06);color:var(--text);border:1px solid rgba(255,255,255,.12)}
    footer{opacity:.6;font-size:13px;text-align:center;margin:18px 0 0;position:relative;z-index:1}
    .hidden{display:none !important}
    .modal{position:fixed;inset:0;display:grid;place-items:center;background:rgba(0,0,0,.55);backdrop-filter:blur(6px);padding:16px;z-index:9999}
    .modal.hidden{display:none !important}
    .modal .box{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:18px;padding:24px;max-width:560px}
    .modal h3{margin:0 0 8px;font-family:"Playfair Display",serif;font-size:28px}
    .modal p{margin:0 0 14px}
    .heart{position:fixed;pointer-events:none;z-index:60;font-size:18px;animation:floatUp 2.8s ease-out forwards}
    @keyframes floatUp{0%{transform:translateY(0) scale(.9);opacity:1}90%{opacity:1}100%{transform:translateY(-140px) scale(1.3);opacity:0}}
    .type{font-family:"Playfair Display",serif;color:#ffd6e0}
    .modal-open .container,.modal-open footer{filter:blur(2px) brightness(0.7)}
  </style>
</head>
<body>
  <div class="background"></div>
  <div class="overlay"></div>
  <div class="container">
    <div class="card">
      <span class="pill">To: <strong style="margin-left:6px">Sheksss</strong> ðŸ’Œ</span>
      <h1>Sheksss, can I call you my girlfriend?</h1>
      <p class="type" id="typewriter"></p>
      <p>From the first moment we spoke, my days have had a new brightness. I love the way you laugh, how you care, and how being with you feels like home. So, I made this little page to ask you properlyâ€¦</p>
      <div class="cta">
        <button class="yes" id="btnYes">Yes ðŸ’–</button>
        <button class="maybe" id="btnMaybe">Awwâ€¦ say more ðŸ¥¹</button>
      </div>
      <footer>Made with ðŸ’— by <strong>Soji</strong> Â· <span id="today"></span></footer>
    </div>
  </div>

  <div class="modal hidden" id="modal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="box">
      <h3>Before you decideâ€¦</h3>
      <p>I promise to choose you in the small moments and the big ones, to cheer your wins, and to hold your hand through storms. I will protect your heart like it is mine, because it already feels like it is.</p>
      <div class="cta" style="margin-top:10px">
        <button class="yes" id="btnYes2">Okayâ€¦ Yes ðŸ’ž</button>
        <button class="maybe" id="btnClose">Give me a sec</button>
      </div>
    </div>
  </div>

  <script>
    document.getElementById('today').textContent = new Date().toLocaleDateString(undefined,{year:'numeric',month:'long',day:'numeric'});

    const line = "I want to do this the right way, clearly, intentionally, and with all my heart.";
    const el = document.getElementById('typewriter');
    let i = 0; (function type(){ el.textContent = line.slice(0, ++i); if(i < line.length) setTimeout(type, 26); })();

    function popHearts(x,y){
      for(let i=0;i<22;i++){
        const h = document.createElement('div');
        h.className = 'heart';
        h.textContent = ['ðŸ’–','ðŸ’˜','ðŸ’','ðŸ’—','ðŸ’ž'][Math.floor(Math.random()*5)];
        const dx = (Math.random()*2-1)*80; const dy = (Math.random()*2-1)*30;
        h.style.left = (x + dx) + 'px'; h.style.top = (y + dy) + 'px';
        h.style.transform = `translateY(0) rotate(${Math.random()*40-20}deg)`;
        document.body.appendChild(h);
        setTimeout(()=>h.remove(), 3000);
      }
    }

    function buildYesPayload(name, you, phone){
      const msg = encodeURIComponent(`Yes, ${you}! ðŸ’— I am officially your girlfriend. â€“ ${name}`);
      const url = `https://wa.me/${phone}?text=${msg}`;
      return {msg, url};
    }

    let musicStarted = false;
    function startMusic(){
      if(musicStarted) return; musicStarted = true;
      const ctx = new (window.AudioContext || window.webkitAudioContext)();
      const master = ctx.createGain(); master.gain.value = 0.35; master.connect(ctx.destination);
      const noiseBuf = ctx.createBuffer(1, ctx.sampleRate * 2, ctx.sampleRate);
      const data = noiseBuf.getChannelData(0);
      for(let i=0;i<data.length;i++){ data[i] = (Math.random()*2-1) * (Math.random()*0.6); }
      const noise = ctx.createBufferSource(); noise.buffer = noiseBuf; noise.loop = true;
      const hp = ctx.createBiquadFilter(); hp.type='highpass'; hp.frequency.value=1200;
      const lp = ctx.createBiquadFilter(); lp.type='lowpass'; lp.frequency.value=5000;
      const noiseGain = ctx.createGain(); noiseGain.gain.value = 0.06;
      noise.connect(hp); hp.connect(lp); lp.connect(noiseGain); noiseGain.connect(master); noise.start();
      function padChord(freqs, tStart){
        freqs.forEach((f)=>{
          const osc = ctx.createOscillator(); osc.type='sawtooth'; osc.frequency.value = f;
          const filt = ctx.createBiquadFilter(); filt.type='lowpass'; filt.frequency.value = 900; filt.Q.value = 0.4;
          const g = ctx.createGain(); g.gain.value = 0;
          osc.connect(filt); filt.connect(g); g.connect(master);
          const a = 1.2, d = 2.2, s = 0.12, r = 1.2;
          g.gain.setValueAtTime(0, tStart);
          g.gain.linearRampToValueAtTime(0.22, tStart + a);
          g.gain.linearRampToValueAtTime(s, tStart + a + d);
          g.gain.linearRampToValueAtTime(0, tStart + a + d + r);
          osc.start(tStart);
          osc.stop(tStart + a + d + r + 0.05);
        });
      }
      const A=220, C=261.63, E=329.63, F=349.23, G=392, A3=110, C3=130.81, E3=164.81, F3=174.61, G3=196;
      const beatLen = 3.2;
      const t0 = ctx.currentTime + 0.05;
      for(let bar=0; bar<64; bar++){
        const t = t0 + bar * beatLen;
        const p = bar % 3;
        if(p===0) padChord([A3, C, E], t);
        if(p===1) padChord([F3, A, C], t);
        if(p===2) padChord([G3, 246.94, 293.66], t);
      }
      function kick(t){
        const o = ctx.createOscillator(); o.type='sine'; o.frequency.setValueAtTime(120,t); o.frequency.exponentialRampToValueAtTime(40, t+0.18);
        const g = ctx.createGain(); g.gain.setValueAtTime(0.6,t); g.gain.exponentialRampToValueAtTime(0.001, t+0.2);
        o.connect(g); g.connect(master); o.start(t); o.stop(t+0.22);
      }
      function snare(t){
        const buf = ctx.createBuffer(1, ctx.sampleRate*0.2, ctx.sampleRate);
        const d = buf.getChannelData(0);
        for(let i=0;i<d.length;i++){ d[i] = (Math.random()*2-1) * (1 - i/d.length); }
        const src = ctx.createBufferSource(); src.buffer = buf;
        const hp2 = ctx.createBiquadFilter(); hp2.type='highpass'; hp2.frequency.value=1800;
        const g = ctx.createGain(); g.gain.value=0.15;
        src.connect(hp2); hp2.connect(g); g.connect(master); src.start(t); src.stop(t+0.2);
      }
      for(let i=0;i<256;i++){
        const t = t0 + i*0.8;
        kick(t);
        snare(t+0.4);
      }
    }

    const btnYes = document.getElementById('btnYes');
    const btnMaybe = document.getElementById('btnMaybe');
    const btnYes2 = document.getElementById('btnYes2');
    const btnClose = document.getElementById('btnClose');
    const modal = document.getElementById('modal');

    function showModal(){modal.classList.remove('hidden');modal.style.display='grid';modal.setAttribute('aria-hidden','false');document.body.classList.add('modal-open');}
    function hideModal(){modal.classList.add('hidden');modal.style.display='none';modal.setAttribute('aria-hidden','true');document.body.classList.remove('modal-open');}

    function onYes(){
      startMusic();
      popHearts(window.innerWidth/2, window.innerHeight/2);
      setTimeout(()=>{
        const name='Sheksss';
        const you='Soji';
        const phone='447770039791';
        const {url}=buildYesPayload(name,you,phone);
        const go=confirm('You just made my day! Want to send me a celebratory YES on WhatsApp?');
        if(go) window.location.href=url;
      },500);
    }

    btnYes.addEventListener('click', onYes);
    btnYes2.addEventListener('click', ()=>{hideModal();onYes();});
    btnMaybe.addEventListener('click', showModal);
    btnClose.addEventListener('click', hideModal);
    window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') hideModal(); });
  </script>
</body>
</html>
